jQuery.noConflict();var tgm_url=tgm_objects.tgm_url;var tgm_icons=[];var tgm_iw=new google.maps.InfoWindow();var tgm_sh=new google.maps.MarkerImage("http://chart.googleapis.com/chart?chst=d_map_pin_shadow",new google.maps.Size(40,37),null,new google.maps.Point(10,37));var tgm_size=new google.maps.Size(21,34);function thydzikgm(i,c,j,h,e,d){var f=tgm_url+"?u="+c,a=new google.maps.LatLngBounds(),b=new google.maps.Map(document.getElementById(i));switch(h){case"SATELLITE":b.setMapTypeId(google.maps.MapTypeId.SATELLITE);break;case"HYBRID":b.setMapTypeId(google.maps.MapTypeId.HYBRID);break;case"TERRAIN":b.setMapTypeId(google.maps.MapTypeId.TERRAIN);break;default:b.setMapTypeId(google.maps.MapTypeId.ROADMAP)}function g(){var k,n,m,l;k=document.createElement("div");k.style.marginRight="5px";n=document.createElement("div");n.style.width="50px";n.style.height="21px";n.style.backgroundColor="#fcfcfc";n.style.borderStyle="solid";n.style.borderWidth="1px";n.style.borderColor="#678ac7";k.appendChild(n);m=document.createElement("a");m.href=f+"&d=gpx";n.appendChild(m);l=document.createElement("img");l.src="http://chart.googleapis.com/chart?chst=d_simple_text_icon_left&chld=gpx|14|000|mobile|16|000|FFF&.png";l.alt="gpx";l.title="Download gpx file!";l.style.display="block";l.style.marginTop="2px";l.style.marginLeft="2px";l.style.borderStyle="none";m.appendChild(l);return k}if(e){b.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(g())}jQuery.get(f,function(m){if((d==="KML")||(d==="KMZ")){var l=new google.maps.KmlLayer(f);l.setMap(b)}else{jQuery(m).find("marker").each(function(){var s=jQuery(this).attr("lat");var o=jQuery(this).attr("lng");if(s&&o){var u=new google.maps.LatLng(parseFloat(s),parseFloat(o));a.extend(u);var t=(jQuery(this).attr("icon")||"").replace("Marker.png","").substring(0,2)||"%e2%bc%80";var r=jQuery(this).attr("colour")||jQuery(this).attr("color")||"ff776b";var q=t+r;if(!tgm_icons[q]){tgm_icons[q]=new google.maps.MarkerImage("http://chart.googleapis.com/chart?chst=d_map_pin_letter&chld="+t+"|"+r+"|000000&.png",tgm_size)}var n=new google.maps.Marker({position:u,icon:tgm_icons[q],map:b,shadow:tgm_sh});var p=jQuery(this).attr("html");if(p){google.maps.event.addListener(n,"click",function(){tgm_iw.setContent(p);tgm_iw.open(b,n)})}else{n.setClickable(false)}}});jQuery.each(["line","points"],function(){jQuery(m).find(String(this)).each(function(){var o=[];var p=jQuery(this).attr("colour")||jQuery(this).attr("color")||"0000ff";if(p.charAt(0)!=="#"){p="#"+p}jQuery(this).find("point").each(function(){var r=jQuery(this).attr("lat");var q=jQuery(this).attr("lng");if(r&&q){var s=new google.maps.LatLng(parseFloat(r),parseFloat(q));a.extend(s);o.push(s)}});var n=new google.maps.Polyline({path:o,strokeColor:p,strokeOpacity:parseFloat(jQuery(this).attr("opacity")||"0.75"),strokeWeight:parseFloat(jQuery(this).attr("width")||"4")});n.setMap(b)})});b.fitBounds(a);if(j!==-1){var k=google.maps.event.addListener(b,"idle",function(){b.setZoom(j);google.maps.event.removeListener(k)})}google.maps.event.addListener(b,"click",function(){tgm_iw.close(b)})}},"xml")};